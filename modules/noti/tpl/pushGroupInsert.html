<include target="_header.html" />

<!--TODO-->
<div cond="$XE_VALIDATOR_MESSAGE && $XE_VALIDATOR_ID == ''" class="message {$XE_VALIDATOR_MESSAGE_TYPE}">
    <p>{$XE_VALIDATOR_MESSAGE}</p>
</div>

<form action="/" method="post" class="x_form-horizontal">
    <input type="hidden" name="module" value="{$module}">
    <input type="hidden" name="act" value="procNotiAdminPushGroupInsert">
    <input type="hidden" name="push_group_srl" value="{$push_group_srl}">
    <input type="hidden" name="success_return_url" value="{getUrl('', 'module', 'admin', 'act', 'dispNotiAdminPushGroupList')}">

    <div class="x_control-group">
        <label class="x_control-label">푸시 그룹 이름</label>
        <div class="x_controls">
            <label class="x_inline" for="push_name">
                <input type="text" id="push_name" name="name" value="{$pushGroup['name']}"|cond="$pushGroup" />
            </label>
            <a href="#push_name_help" class="x_icon-question-sign" data-toggle="#push_name_help">{$lang->help}</a>
            <p id="push_name_help" class="x_help-block" hidden="hidden">여러 알림을 한 개의 알림으로 묶어서 처리할 푸시 그룹의 이름을 설정합니다.</p>
        </div>
    </div>


    <div class="x_control-group">
        <label class="x_control-label">알림 출력 개수</label>
        <div class="x_controls">
            <label class="x_inline" for="max_count">
                <input type="text" id="max_count" disabled="disabled" name="max_count" value="{$pushGroup ? $pushGroup['max_count'] : 1}" />
            </label>
            <a href="#max_count_help" class="x_icon-question-sign" data-toggle="#max_count_help">{$lang->help}</a>
            <p id="max_count_help" class="x_help-block" hidden="hidden">동일한 푸시 그룹에 있는 알림이 표시될 수 있는 최대 개수를 설정합니다. 기본값 : 1개</p>
        </div>
    </div>

    <div class="x_control-group">
        <label class="x_control-label">알림누적 메세지 표시</label>
        <div class="x_controls">
            <label class="x_inline" for="use_count_summary">
                <input type="radio" id="use_count_summary" name="use_count_summary" value="Y" checked="checked"|cond="!$pushGroup || $pushGroup['use_count_summary']">{$lang->use}</label>

            <label class="x_inline" for="not_use_count_summary">
                <input type="radio" id="not_use_count_summary" name="use_count_summary" value="N" checked="checked"|cond="$pushGroup && !$pushGroup['use_count_summary']">{$lang->not_use}</label>

            <a href="#use_count_summary_help" class="x_icon-question-sign" data-toggle="#use_count_summary_help">{$lang->help}</a>
            <p id="use_count_summary_help" class="x_help-block" hidden="hidden">읽지 않은 알림이 누적된 경우 "+n개의 알림이 있습니다." 메세지 사용</p>
        </div>
    </div>

    <div class="x_control-group">
        <label class="x_control-label">알림누적 메세지 양식</label>
        <div class="x_controls">
            <label class="x_inline" for="count_summary_template">
                <textarea name="count_summary_template" id="count_summary_template" rows="3" style="width:450px;"><!--@if($pushGroup)-->{$pushGroup['count_summary_template']}<!--@else-->[@content_summary]
+[@count]개의 알림이 있습니다.<!--@end--></textarea>
            </label>
            <a href="#count_summary_template_help" class="x_icon-question-sign" data-toggle="#count_summary_template_help">{$lang->help}</a>
            <p id="count_summary_template_help" class="x_help-block" hidden="hidden">기본값: <BR>
                [@content_summary]<BR>
                +[@count]개의 알림이 있습니다.
            </p>
        </div>
    </div>


    <div class="x_clearfix btnArea">
        <span class="x_pull-left">
            <a href="{getUrl('act', 'dispNotiAdminPushGroupList', 'push_group_srl', '')}" class="x_btn">목록</a>
        </span>
        <span class="x_pull-right"><input class="x_btn x_btn-primary" type="submit" value="{$lang->cmd_insert}"></span>
    </div>



</form>

